{% assign limit = section.settings.prt_limit %}
{% assign item = section.settings.prt_item %}
{% assign citem = section.settings.prt_citem %}
{% assign item980 = section.settings.prt_item_980 %}
{% assign item768 = section.settings.prt_item_768 %}
{% assign item480 = section.settings.prt_item_480 %}
{% assign title = section.settings.prt_title %}
{% assign subtitle = section.settings.prt_subtitle %}

{% capture image_size %}{{ section.settings.prt_pImg_width }}x{% endcapture %} 

{% assign row = section.settings.prt_citem %}

<div class="widget-inner widget widget-productCarousel {% if section.settings.s1 %}d-xl-block{% else %}d-xl-none{% endif %} {% if section.settings.s2 %}d-md-block{% else %}d-md-none{% endif %} {% if section.settings.s3 %}d-block{% else %}d-none{% endif %}">
  <div class="{% if section.settings.fw %}fw{% else %}container{% endif %}"> 

    {% if title != "" or subtitle != "" %}
    <div class="widget-title text-center">
      {% if title != "" %}
      <h3>{{ title }}</h3>
      {% endif %}
      {% if subtitle != "" %}
      <p>{{ subtitle }}</p>
      {% endif %}  
    </div>
    {% endif %}

    <div class="widget-content"> 
      {% assign col = section.settings.prt_collection %}

      <div class="swiper-container" data-items="{{ item }}" data-margin="{{ section.settings.prt_gutter }}" data-row="{{ citem }}" data-md="{{ item980 }}" data-sm="{{ item768 }}" data-xs="{{ item480 }}">
        <div class="swiper-wrapper">  
          {% for product in collections[col].products limit: limit %}
          <div class="swiper-slide">            
            {% assign enable_vendor = section.settings.prt_vendor %}
            {% include 'product-grid-item' %}
          </div>
          {% else %}
          {% for product in (1..limit) %}
          <div class="swiper-slide">
            <div class="product-item product-grid-item product_v1">
              <div class="product-item-info">
                <div class="product-image">
                  <a href="#" class="product-item-photo shadow-true">
                    {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
                    {{ 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
                  </a>
                </div>
                <div class="product-item-details">
                  <a href="/" class="product-item-name">Product's Demo {{ forloop.index }}</a>
                </div>
                <div class="product-meta clearfix">
                  <div class="price-box pull-left">
                    <span class="money"> $200.00 </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
          {% endfor %}
        </div>    
        <div class="swiper-button-next d-none d-lg-block"><i class="fa fa-chevron-right" aria-hidden="true"></i></div>
        <div class="swiper-button-prev d-none d-lg-block"><i class="fa fa-chevron-left" aria-hidden="true"></i></div>
        <div class="swiper-pagination d-block d-lg-none"></div>
      </div>

    </div>
  </div>
</div>


{% schema %}
  {
    "name": "GRT - Product Carousel",
    "settings": [
      {
        "type": "checkbox",
        "id": "fw",
        "label": "Full width"
      },
      {
        "type": "checkbox",
        "id": "s1",
        "label": "Show on Desktop",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "s2",
        "label": "Show on Tablet",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "s3",
        "label": "Show on Mobile",
        "default": true
      },
	  {
        "type": "header",
        "content": "Title"
      },
      {
        "type": "text",
        "id": "prt_title",
        "label": "Title"
      },
      {
        "type": "text",
        "id": "prt_subtitle",
        "label": "Sub Title"
      },
      {
        "type": "header",
        "content": "Configuration"
      },
      {
        "type": "collection",
        "id": "prt_collection",
        "label": "Select collection"
      },
	  {
        "type": "text",
        "id": "prt_pImg_width",
        "label": "Product image width",
        "default": "333"
      },   
      {
        "type": "checkbox",
        "id": "prt_vendor",
        "label": "Show product vendor",
        "default": false
      },
      {
        "type": "text",
        "id": "prt_limit",
        "label": "Limit item",
        "default": "8"
      },
      {
        "type": "select",
        "id": "prt_item",
        "label": "Item\/row",
        "default": "5",
        "options": [
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          },
          {
            "value": "5",
            "label": "5"
          },
          {
            "value": "6",
            "label": "6"
          }
        ]		
      },
      {
        "type": "select",
        "id": "prt_citem",
        "label": "Row",
        "default": "1",
        "options": [
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          },
          {
            "value": "5",
            "label": "5"
          },
          {
            "value": "6",
            "label": "6"
          }
        ]
      },
      {
        "type": "select",
        "id": "prt_item_980",
        "label": "Item\/row  in Tablet (980)",
        "default": "4",
        "options": [
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          },
          {
            "value": "5",
            "label": "5"
          },
          {
            "value": "6",
            "label": "6"
          }
        ]
      },
      {
        "type": "select",
        "id": "prt_item_768",
        "label": "Item\/row  in Mobile (768)",
        "default": "3",
        "options": [
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          },
          {
            "value": "5",
            "label": "5"
          },
          {
            "value": "6",
            "label": "6"
          }
        ]
      },
      {
        "type": "select",
        "id": "prt_item_480",
        "label": "Item\/row  in Mobile 480 (480)",
        "default": "2",
        "options": [
          {
            "value": "1",
            "label": "1"
          },
          {
            "value": "2",
            "label": "2"
          },
          {
            "value": "3",
            "label": "3"
          },
          {
            "value": "4",
            "label": "4"
          },
          {
            "value": "5",
            "label": "5"
          },
          {
            "value": "6",
            "label": "6"
          }
        ]
      },
      {
      "type": "text",
      "id": "prt_gutter",
      "label": "Grid gutter",
	  "default": "30"  
      }

	],
	"presets": [
        {
          "name": "GRT - Product Carousel",
          "category": "Product"
        }
    ]
  }
{% endschema %}

{% stylesheet %}

{% endstylesheet %}

{% javascript %}
{% endjavascript %}
